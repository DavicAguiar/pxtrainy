<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho - PxTrainy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                PxTrainy
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Local</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="cart.html">Carrinho</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="delivery.html">Entrega</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Carrinho de Produtos -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-primary mb-4">Produtos Disponíveis</h2>
            
            <!-- Carrinho de Compras -->
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Carrinho de Compras</h5>
                </div>
                <div class="card-body">
                    <div id="carrinhoItens">
                        <p class="text-muted">Selecione um produto para adicionar ao carrinho</p>
                    </div>
                </div>
            </div>

            <!-- Cálculo de Frete -->
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Cálculo de Frete</h5>
                </div>
                <div class="card-body">
                    <p>Frete saindo de: Moema, São Paulo - SP</p>
                    
                    <!-- Campo de CEP -->
                    <div class="input-group mb-3">
                        <span class="input-group-text">CEP</span>
                        <input type="text" class="form-control" id="cepInput" placeholder="Digite seu CEP (ex: 12345-678)" maxlength="9">
                        <button class="btn btn-primary" type="button" id="buscarCep">Buscar</button>
                    </div>

                    <!-- Dados do CEP -->
                    <div id="dadosCep" class="d-none">
                        <div class="alert alert-info">
                            <p><strong>Endereço:</strong> <span id="endereco"></span></p>
                            <p><strong>Cidade:</strong> <span id="cidade"></span></p>
                            <p><strong>Estado:</strong> <span id="estado"></span></p>
                        </div>
                    </div>

                    <!-- Campo de Distância -->
                    <div id="campoDistancia">
                        <div class="input-group mb-3">
                            <span class="input-group-text">Distância (km)</span>
                            <input type="number" class="form-control" id="distanciaInput" min="0" placeholder="Digite a distância em km" disabled>
                            <span class="input-group-text">km</span>
                        </div>
                    </div>

                    <div class="alert alert-info">
                        Valor do Frete: <span id="valorFrete">R$ 0,00</span>
                    </div>
                    <p class="text-muted">* Valor máximo de frete: R$ 149,90</p>
                </div>
            </div>

            <!-- Botão de Finalização -->
            <div class="text-center mb-5">
                <button class="btn btn-primary btn-lg" id="finalizarCompra">
                    <i class="fas fa-shopping-cart me-2"></i>
                    Finalizar Compra
                </button>
            </div>
            <div class="row mt-5">
                    <!-- Creatina -->
                    <div class="col-md-4">
                        <div class="product-card">
                            <img src="creatina.png" alt="Creatina" class="product-image">
                            <div class="product-info">
                                <h3>Creatina Monohidratada 300g</h3>
                                <p class="price">R$ 89,99</p>
                                <button class="add-to-cart-btn" onclick="addToCart('Creatina')">Adicionar ao Carrinho</button>
                            </div>
                            <div class="product-overlay">
                                <div class="product-details">
                                    <div class="product-specs">
                                        <p>• 300g</p>
                                        <p>• Puro 100%</p>
                                        <p>• Aumenta força e massa muscular</p>
                                        <p>• Sem aditivos</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Whey -->
                    <div class="col-md-4">
                        <div class="product-card">
                            <img src="whey.png" alt="Whey" class="product-image">
                            <div class="product-info">
                                <h3>Whey Protein 1kg Chocolate</h3>
                                <p class="price">R$ 179,99</p>
                                <button class="add-to-cart-btn" onclick="addToCart('Whey')">Adicionar ao Carrinho</button>
                            </div>
                            <div class="product-overlay">
                                <div class="product-details">
                                    <div class="product-specs">
                                        <p>• 1kg</p>
                                        <p>• Sabor Chocolate</p>
                                        <p>• 24g de proteína por dose</p>
                                        <p>• Fácil digestão</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Copo -->
                    <div class="col-md-4">
                        <div class="product-card">
                            <img src="copo.png" alt="Copo" class="product-image">
                            <div class="product-info">
                                <h3>Copo PxTrainy</h3>
                                <p class="price">R$ 49,99</p>
                                <button class="add-to-cart-btn" onclick="addToCart('Copo')">Adicionar ao Carrinho</button>
                            </div>
                            <div class="product-overlay">
                                <div class="product-details">
                                    <div class="product-specs">
                                        <p>• 500ml</p>
                                        <p>• Design exclusivo</p>
                                        <p>• Material resistente</p>
                                        <p>• Ideal para academia</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </section>

    <!-- Rodapé -->
    <footer class="footer text-white py-4">
        <div class="container text-center">
            <p class="mb-0">PxTrainy &copy; 2025 | Contato: contato@pxtrainy.com | (11) 1234-5678</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Produtos disponíveis
        const PRODUTOS = {
            'Creatina': {
                nome: 'Creatina Monohidratada 300g',
                preco: 89.99,
                descricao: '300g, Puro 100%, Aumenta força e massa muscular, Sem aditivos'
            },
            'Whey': {
                nome: 'Whey Protein 1kg Chocolate',
                preco: 179.99,
                descricao: '1kg, Sabor Chocolate, 24g de proteína por dose, Fácil digestão'
            },
            'Copo': {
                nome: 'Copo PxTrainy',
                preco: 49.99,
                descricao: '500ml, Design exclusivo, Material resistente, Ideal para academia'
            }
        };

        // Função para atualizar o carrinho
        function atualizarCarrinho() {
            const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const container = document.getElementById('carrinhoItens');
            
            if (carrinho.length === 0) {
                container.innerHTML = '<p class="text-muted">Selecione um produto para adicionar ao carrinho</p>';
                return;
            }

            let html = '<div class="table-responsive">';
            html += '<table class="table table-hover">';
            html += '<thead><tr><th>Produto</th><th>Descrição</th><th>Preço</th><th>Ações</th></tr></thead>';
            html += '<tbody>';

            carrinho.forEach(item => {
                html += `<tr>`;
                html += `<td>${item.nome}</td>`;
                html += `<td>${item.descricao}</td>`;
                html += `<td>${formatarValor(item.preco)}</td>`;
                html += `<td><button class="btn btn-danger btn-sm" onclick="removerDoCarrinho('${item.nome}')">Remover</button></td>`;
                html += `</tr>`;
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;
        }

        // Função para adicionar ao carrinho
        function addToCart(produto) {
            const item = PRODUTOS[produto];
            if (!item) return;

            const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            carrinho.push(item);
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            atualizarCarrinho();
            alert(`Produto ${item.nome} adicionado ao carrinho!`);
        }

        // Função para remover do carrinho
        function removerDoCarrinho(nome) {
            const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const novoCarrinho = carrinho.filter(item => item.nome !== nome);
            localStorage.setItem('carrinho', JSON.stringify(novoCarrinho));
            atualizarCarrinho();
            alert('Produto removido do carrinho!');
        }

        // Inicializar o carrinho quando a página carregar
        window.addEventListener('load', atualizarCarrinho);
    </script>
    <script src="cart.js"></script>
</body>
</html>
</body>
</html>
